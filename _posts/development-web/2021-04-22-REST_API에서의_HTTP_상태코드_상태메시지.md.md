---
layout: post
title:  "REST APIμ—μ„μ HTTP μƒνƒ μ½”λ“, μƒνƒ λ©”μ‹μ§€ (μ‘λ‹µ μ½”λ“, μ‘λ‹µ λ©”μ‹μ§€)"
subtitle: "REST APIμ—μ„μ HTTP μƒνƒ μ½”λ“, μƒνƒ λ©”μ‹μ§€ (μ‘λ‹µ μ½”λ“, μ‘λ‹µ λ©”μ‹μ§€)"
categories: development
tags: web
comments: false
---

# HTTPμ™€ REST

REST API κ΄€μ μ—μ„ HTTPλ¥Ό ν•΄μ„ν•΄λ³΄μ. 

- **HTTP**(HyperText Transfer Protocol)λ” μ›Ή ν™κ²½μ—μ„ μ •λ³΄λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν• ν”„λ΅ν† μ½(ν†µμ‹  κ·μ•½, μ•½μ†)μ΄λ‹¤.
- ν΄λΌμ΄μ–ΈνΈλ” HTTPμ μƒνƒ μ½”λ“λ¥Ό ν™•μΈν•μ—¬ μ”μ²­μ μ„±κ³µ λ° μ‹¤ν¨λ¥Ό ν™•μΈν•  μ μλ‹¤.
- μ΄κ²ƒμ€ HTTPλ¥Ό μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ μ•½μ†(ν”„λ΅ν† μ½, ν†µμ‹  κ·μ•½)μΈ κ²ƒμ΄λ‹¤.
- **REST(Representational State Transfer)**λ” λ¶„μ‚° ν•μ΄νΌλ―Έλ””μ–΄ μ‹μ¤ν…μ„ μ„ν• μ†ν”„νΈμ›¨μ–΄ μ•„ν‚¤ν…μ²μ΄λ‹¤.
- **HTTP**λ” μ›Ή ν™κ²½μ—μ„ μ •λ³΄λ¥Ό μ†΅μμ‹ ν•  λ• μ‚¬μ©ν•λ” μ•½μ†μ΄κ³ ,Β **REST**λ” μ†ν”„νΈμ›¨μ–΄ μ•„ν‚¤ν…μ²λ‹¤. RESTμ— λ°λ“μ‹ HTTPκ°€ ν•„μ”ν• κ²ƒμ€ μ•„λ‹λ‹¤.Β [WAP](https://ko.wikipedia.org/wiki/%EB%AC%B4%EC%84%A0_%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C),Β [WebRTC](https://ko.wikipedia.org/wiki/WebRTC),Β [MQTT](https://ko.wikipedia.org/wiki/MQTT)Β λ“± λ‹¤λ¥Έ ν”„λ΅ν† μ½λ΅λ„ μ΄μ© κ°€λ¥ν•λ‹¤.
- RESTλ” μ†ν”„νΈμ›¨μ–΄ μ•„ν‚¤ν…μ²(μ„¤κ³„ μ§€μΉ¨, μ›λ¦¬ λ“±λ“±)κ³  RESTμ—μ„Β `ν΄λΌμ΄μ–ΈνΈ-μ„λ²„`Β κ°„ ν†µμ‹  μ‹ HTTPλ¥Ό μ‚¬μ©ν• κ²ƒμ΄λ‹¤.

# RESTμ—μ„  HTTPλ¥Ό μ£Όλ΅ μ‚¬μ©ν•λ” μ΄μ 

RESTμ—μ„ HTTPλ” ν•„μκ°€ μ•„λ‹λΌκ³  ν–μ§€λ§, μ›Ή ν™κ²½ ν†µμ‹ μ λ€λ¶€λ¶„μ΄ HTTPλ¥Ό μ‚¬μ©ν•λ‹¤.

λ§μ•½, μ–΄λ–¤ APIμ μ”μ²­|μ‘λ‹µ λ°μ΄ν„° ν¬λ§·μ΄Β YAMLμ΄λ©΄ μ–΄λ–¨κΉ? λ¬Όλ΅  YAMLμ΄ JSON ν¬λ§·μ λ°μ΄ν„°λ¥Ό λ€μ²΄ν•μ—¬ ν‘ν„ν•  μ μκ³  JSONμ΄ κ°–λ” ν•κ³„λ¥Ό λ³΄μ™„ν• λ¶€λ¶„λ„ μμ§€λ§, μΌλ°μ μ΄μ§€ μ•λ‹¤. μΌλ°μ μ΄μ§€ μ•μ€ κ²ƒμ€ λ¶νΈν•¨μ„ μ•ΌκΈ°ν•λ‹¤. μ΄λ¬ν• λ¶νΈν•¨μ„ κ°μν•λ©΄μ„ μΌλ°μ μ΄μ§€ μ•λ” κ²ƒμ„ μ‚¬μ©ν•λ ¤λ©΄ λ§¤μ° μ„¤λ“λ ¥ μλ” κ·Όκ±°κ°€ ν•„μ”ν•λ‹¤. RESTμ κ²½μ°μ—” ν„μ¬λ΅μ„  μ—†λ‹¤.

RESTλ” HTTPλ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μΌλ°μ μ΄λ‹¤. ν•„μκ°€ μ•„λ‹λΌκ³  ν–μ§€λ§,Β **κ±°μ ν•„μλ‹¤.** RESTμ κ°λ…/μ›λ¦¬μ—λ” HTTPκ°€ ν•„μλ” μ•„λ‹μ§€λ§, κ·Έ μ‚¬μ©μ— μμ–΄ ν•„μμ μΌλ΅ λ³€ν• κ²½μ°λΌ μƒκ°ν•λ©΄ μΆ‹μ„ κ±° κ°™λ‹¤. λ„κµ°κ°€ λ§λ“  REST APIκ°€ HTTPλ¥Ό μ‚¬μ©ν•μ§€ μ•λ”λ‹¤λ©΄ μ΄κ²ƒλ¶€ν„° κ³ μΉλΌκ³  μ§€μ‹ν•  κ²ƒμ΄λ‹¤.

**λ”°λΌμ„ RESTλ¥Ό μ΄μ©ν•΄ APIλ¥Ό μ„¤κ³„ν•λ ¤λ©΄ HTTPμ— λ€ν•΄μ„ μ•κ³  μμ–΄μ•Ό ν•λ‹¤.**

# HTTP μƒνƒ μ½”λ“(Status Code)λ€?

HTTP μƒνƒ μ½”λ“(Status Code)λ” **HTTP μ”μ²­μ΄ μ„±κ³µν–λ” μ§€ μ‹¤ν¨ν–λ” μ§€λ¥Ό μ„λ²„μ—μ„ μ•λ ¤μ£Όλ” μ½”λ“μ΄λ‹¤.** 

# HTTP μƒνƒ μ½”λ“(Status Code)μ κΈ°λ¥, λ©μ 

μƒνƒ μ½”λ“μ κΈ°λ¥μ€ μ •ν•΄μ Έ μλ‹¤. ν•μ§€λ§ λ©μ μ€ μ •λ³΄ μ κ³µμμ™€ μ†λΉ„μκ°€ μ„ νƒν• μ•½μ†μ— μν•΄ λ‹¤λ¥΄κ² μ μ©λ  μ μλ‹¤. μλ¥Ό λ“¤λ©΄ μƒνƒ μ½”λ“Β `200`μ€ μ”μ²­μ΄ μ„±κ³µμ μΌλ΅ μ™„λ£λμ—λ‹¤λ” λ©”μ„Έμ§€λ¥Ό μ „λ‹¬ν•λ” κΈ°λ¥μ„ κ°–κ³  μ΄κ²ƒμ„ μ΄μ©ν•΄ ν΄λΌμ΄μ–ΈνΈμ— λ‹¤μ μ‘μ—…μ„ μ΄μ–΄ λ‚κ°€λ„ μΆ‹λ‹¤λ” μ‹ νΈμ λ©μ μΌλ΅ μ“°μΌ μ μλ‹¤. λ”°λΌμ„ κ° μƒνƒ μ½”λ“λ” μ κ³µμμ— λ”°λΌ λ‹¤λ¥Έ λ©μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ— μ κ³µλ  μ μλ‹¤.

μ•μΌλ΅ μ„¤λ…μ μƒνƒ μ½”λ“λ“¤μ€ HTTP μƒμ—μ„ κ°–λ” κΈ°λ¥μ— λ€ν•΄μ„ μ„¤λ…ν•κ³  μ΄κ²ƒμ΄ RESTμ—μ„ μ–΄λ–¤ λ©μ μΌλ΅ μ“°μ΄λ”μ§€ μ„μ£Όλ΅ μ„¤λ…ν•  κ²ƒμ΄λ‹¤.

# μμ 

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/51dc0a94-d60e-4ef0-bbb1-6a8c50e6243c/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/51dc0a94-d60e-4ef0-bbb1-6a8c50e6243c/Untitled.png)

- Collection:Β `/users/1`Β μ—μ„Β **users**, μ§‘ν•©
- Document:Β `/users/1`Β μ—μ„Β **1**, μ§‘ν•©μ— μ†ν• μμ›

## β… **2XXΒ Success** β…

`2xx` λ²λ€μ μƒνƒ μ½”λ“λ“¤μ€ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ„±κ³µμ μΌλ΅ μ²λ¦¬ν–λ‹¤λ” μλ―Έλ‹¤.

### `200 OK` : ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ„λ²„κ°€ μ •μƒμ μΌλ΅ μ²λ¦¬ν–λ‹¤.

**β†’ λ€ν‘μ μΈ μ : λ°μ΄ν„° μ΅°ν μ„±κ³µ**

μ„±κ³µμ— λ€ν• λ¨λ“  μƒνƒ μ½”λ“λ¥ΌΒ `200`μΌλ΅ μ‘λ‹µν•΄λ„ ν¬κ² μƒκ΄€μ—†λ‹¤. (`200`Β μƒνƒ μ½”λ“λ” ν΄λΌμ΄μ–ΈνΈμ—κ² μ”μ²­μ΄ μ„±κ³µν–λ‹¤λ” κ²ƒμ„ μ‘λ‹µν•λ” κΈ°λ¥μ„ κ°–κΈ° λ•λ¬Έμ—) λ§μ€ REST APIμ—μ„Β `2xx`Β μƒνƒ μ½”λ“λ¥Ό μ„Έλ¶„ν™”ν•μ—¬ μ‚¬μ©ν•μ§€ μ•λ”λ‹¤.

ν•μ§€λ§, **ν΄λΌμ΄μ–ΈνΈμ—κ² λ” μ •ν™•ν•κ³  μμ„Έν• μ •λ³΄λ¥Ό μ κ³µν•κΈ° μ„ν•΄μ„  μ μ ν• μƒνƒ μ½”λ“λ¥Ό λ³΄λ‚΄λ” κ²ƒμ΄ μΆ‹λ‹¤.** (`2xx`Β μƒνƒ μ½”λ“λ“¤μ€ κ°κ° μ„Έλ¶„ν™”λ λ©μ μ„ κ°–λ”λ‹¤.)

**ν•μ§€λ§, μ•„λ μ„¤κ³„λ” λ¬΄μ΅°κ±΄ μλ»λ κ²ƒμ΄λ‹ μμ •ν•μ!**

```json
HTTP/1.1 200 OK
{
    "result" : false
    "status" : 400
}
```

- μƒνƒ μ½”λ“λ”Β `200`μΌλ΅ μ„±κ³µμΈλ°, body λ‚΄μ©μ—” μ‹¤ν¨μ— κ΄€ν• λ‚΄μ©μ„ λ¦¬ν„΄ν•κ³  μλ‹¤.
- λ¨λ“  μ‘λ‹µμ„Β `200`μΌλ΅ μ²λ¦¬ν•κ³  body λ‚΄μ©μΌλ΅ μ„±κ³µ λ° μ‹¤ν¨λ¥Ό νλ‹¨ν•λ” κµ¬μ΅°μ—μ„ μ‚¬μ©λλ‹¤.

    β†’ APIκ°€ μ•„λ‹ HTML μ›Ή ν”„λ΅μ νΈμ—μ„ λ€λ¶€λ¶„ μ΄λ ‡κ² μ‚¬μ©ν•λ‹¤.

    β†’ μ›Ή ν”„λ΅μ νΈμ—μ„  ν¬κ² λ¬Έμ κ°€ λμ§€ μ•μΌλ‚ APIμ—μ„  λ§μ΄ μ΄μƒν• κµ¬μ΅°λ‹¤.

    β†’ μ›Ήμ μ„¤κ³„λ¥Ό κ·Έλ€λ΅ μ‚¬μ©ν•λ” κ²½μ° λ§μ΄ ν•λ” μ‹¤μλ‹¤.

### `201 Created` : ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ„λ²„κ°€ μ •μƒμ μΌλ΅ μ²λ¦¬ν–κ³  μƒλ΅μ΄ λ¦¬μ†μ¤κ°€ μƒκ²Όλ‹¤.

**β†’ λ€ν‘μ μΈ μ : λ°μ΄ν„° μƒμ„± μ„±κ³µ (ex: κ²μ‹κΈ€ μ‘μ„±, λ“κΈ€ μ‘μ„± λ“±λ“±), λ°μ΄ν„° μμ • μ„±κ³µ**

- 201 μƒνƒ μ½”λ“λ” `POST`, `PUT` μ”μ²­μ— λ€ν• μ‘λ‹µμ— μ£Όλ΅ μ‚¬μ©λλ‹¤.
- ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ μ„±κ³µμ μΌλ΅ μ΄λ£¨μ–΄μ΅λ‹¤λ” μλ―ΈκΉμ§€λ” 200κ³Ό λ™μΌν•λ°, μ„±κ³µκ³Ό λ™μ‹μ— μƒλ΅μ΄ λ¦¬μ†μ¤κ°€ μƒμ„±λμ—λ‹¤λ” μλ―Έλ¥Ό ν¬ν•¨ν•λ‹¤.

```json
POST /users HTTP/1.1
Content-Type: application/json
{
		"name": "hak"
}
```

```json
HTTP/1.1 201 Created
{
		"id" : 1,
		"name" : "hak"
}
```

λ¬Όλ΅  μƒλ΅μ΄ λ¦¬μ†μ¤λ¥Ό μƒμ„±ν•λ”Β `POST`,Β `PUT`Β μ”μ²­μ μ‘λ‹µμΌλ΅Β `200`μ„ λ³΄λ‚΄μ¤λ„ λλ‹¤. λν• μ•„μ§ λ§μ€ APIμ μƒνƒ μ½”λ“κ°€ μ΄λ ‡κ² μ‘λ‹µν•λ‹¤. **ν•μ§€λ§, λ” μ •ν™•ν• μλ―Έλ¥Ό μ „λ‹¬ν•κΈ° μ„ν•΄Β `201`Β μƒνƒ μ½”λ“λ¥Ό μ“Έ κ²ƒμ„ μ¶”μ²ν•λ‹¤.**

> **TIP!**

HTTP ν—¤λ”μΒ `Content-Location`λ¥Ό μ΄μ©ν•μ—¬ λ§λ“¤μ–΄μ§„ λ¦¬μ†μ¤ μƒμ„±λ μ„μΉλ¥Ό μ•λ ¤μ£Όλ©΄ λ”ν•  λ‚μ„ μ—†μ΄ μΆ‹λ‹¤.

```json
HTTP/1.1 201 Created
Content-Location: /users/1
{
    "id" : 1,
    "name" : "hak"
}
```

### `202 Accepted` : ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ€ μ •μƒμ μ΄λ‚, μ„λ²„κ°€ μ”μ²­μ„ μ™„λ£ν•μ§€ λ»ν–λ‹¤.

202 μƒνƒ μ½”λ“λ” λΉ„λ™κΈ°μ— λ€ν• κ°λ…μ΄ μ—†λ‹¤λ©΄ μƒμ†ν•  μ μλ‹¤. 

ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ μ •μƒμ μ΄λ©΄ μ„λ²„μ—μ„  μ‘μ—…μ μ„±κ³µ λ° μ‹¤ν¨λ¥Ό μ‘λ‹µν•λ” κ² μΌλ°μ μ΄λ‚, μ‘μ—… μ™„λ£λ¥Ό μ„ν• μΌλ ¨μ μ‘μ—…λ“¤μ΄ μ¤λ κ±Έλ¦¬κΈ° λ•λ¬Έμ— λ‚μ¤‘μ— μ•λ ¤μ£Όκ² λ‹¤λ” μλ―Έλ‹¤.

- **λΉ„λ™κΈ°μ— λ€ν• μμ‹**

`202`Β μƒνƒ μ½”λ“μ—μ„ μ¤‘μ”ν• κ²ƒμ€Β **μ‘μ—…μ ν™•μΈ**μ΄λ‹¤. λΉ„λ™κΈ° μ‘μ—…μ€ ν•΄λ‹Ή μ”μ²­μ΄ μ–Έμ  μ™„λ£λλ”μ§€ μ• μ μ—†λ‹¤. ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­μ μ™„λ£ μ—¬λ¶€λ¥Ό ν™•μΈν•  μ μλ” λ°©λ²•μ„ μ κ³µν•΄μ•Ό ν•λ‹¤. 2κ°€μ§€ λ°©λ²•μ΄ μλ‹¤.

1. [Callback](https://ko.wikipedia.org/wiki/%EC%BD%9C%EB%B0%B1)
2. [Polling](https://ko.wikipedia.org/wiki/%ED%8F%B4%EB%A7%81_%28%EC%BB%B4%ED%93%A8%ED%84%B0_%EA%B3%BC%ED%95%99%29)

μ½λ°±μ€ μ„λ²„κ°€ μ‘μ—…μ΄ μ™„λ£λλ©΄ ν΄λΌμ΄μ–ΈνΈμ—κ² μ•λ ¤μ£Όλ” κ²ƒμ΄λ‹¤.ν΄λ§μ€ ν΄λΌμ΄μ–ΈνΈκ°€ μ£ΌκΈ°μ μΌλ΅ ν•΄λ‹Ή μ‘μ—…μ μƒνƒλ¥Ό μ΅°νν•λ” κ²ƒμ΄λ‹¤.([HATEOAS](https://en.wikipedia.org/wiki/HATEOAS),Β [Content-Location](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Location)Β λ“±μΌλ΅ μ‘μ—…μ μƒνƒλ¥Ό ν™•μΈν•  μ μλ” URIλ¥Ό μ‘λ‹µν•΄μ•Ό ν•λ‹¤.)μ½λ°±κ³Ό ν΄λ§μ— λ€ν• μ΄μ•ΌκΈ°λ” κΈΈμ–΄μ§ μ μκΈ° λ•λ¬Έμ— μ„μ— μ„¤λ…ν• κ°λ… μ •λ„λ§ μ•κ³  λ„μ–΄κ°„λ‹¤.

- **μ½λ°±, ν΄λ§μ— λ€ν• μμ‹**

κ²°λ΅ μ€ λΉ„λ™κΈ° μ”μ²­(`202`Β μƒνƒ μ½”λ“)μ€Β `μ½λ°±`μ΄λ“ Β `ν΄λ§`μ΄λ“  ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­μ μ™„λ£ μ—¬λ¶€λ¥Ό ν™•μΈν•  μ μλ” λ°©λ²•μ„ μ κ³µν•΄μ•Ό ν•λ‹¤λ” κ²ƒμ΄λ‹¤.

**λ‘ λ‹¤ μ κ³µν•λ” κ²ƒμ΄ μΆ‹λ‹¤.**

### `204 No Content` : ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ€ μ •μƒμ μ΄λ‹¤. ν•μ§€λ§ μ»¨ν…μΈ λ¥Ό μ κ³µν•μ§€ μ•λ”λ‹¤.

**β†’ λ€ν‘μ μΈ μ : λ°μ΄ν„° μ‚­μ  μ„±κ³µ, λ°μ΄ν„° μμ • μ„±κ³µ**

- `202` μƒνƒ μ½”λ“μ™€ μ μ‚¬ν•κ² μ΄μƒν• μ‘λ‹µμ΄λΌ μƒκ°ν•  μ μλ‹¤. μμ›μ„ μ κ³µν•μ§€ μ•λ” κ²½μ°κ°€ λ­κΉ?
- `204` μƒνƒ μ½”λ“λ” μμ›μ μ‚­μ  μ”μ²­μ— μ‘λ‹µν•  μ μλ‹¤.
- `204`λ΅ μ‘λ‹µν•λ” μκ°„, λ³„λ„μ λ°μ΄ν„°λ¥Ό κ°™μ΄ μ‹¤μ–΄μ„ λ³΄λ‚Ό μκ°€ μ—†λ‹¤. λ°μ΄ν„°λ¥Ό κ°™μ΄ μ‹¤μ–΄μ„ μ‘λ‹µμ„ ν•λ ¤ ν•΄λ„ μ›Ή μμ²΄μ—μ„ λ°μ΄ν„°κ°€ μ—†λ” κ²ƒμ²λΌ μ²λ¦¬ν•΄λ²„λ¦°λ‹¤.

```json
DELETE /users/1 HTTP/1.1
```

```json
HTTP/1.1 204 No Content
```

μμ› μ‚­μ  μ”μ²­μ„ ν–κ³  μ΄ μ”μ²­μ΄ μ ν¨ν•λ‹ μ„λ²„λ” ν•΄λ‹Ή μμ›μ„ μ‚­μ ν–λ‹¤. λ” μ΄μƒ μ‘λ‹µν•  μ»¨ν…μΈ κ°€ μ—†κΈ° λ•λ¬Έμ— μ»¨ν…μΈ κ°€ μ—†λ”Β `204`λ΅ μ‘λ‹µν•λ‹¤.

μ—¬κΈ°μ„ μ£Όμν•  μ μ€Β `200`μΌλ΅ μ‘λ‹µν•κ³  μ‘λ‹µ bodyμ—Β `null`,Β `{}`,Β `[]`,Β `false`Β λ“±μΌλ΅ μ‘λ‹µν•λ” κ²ƒκ³Ό λ‹¤λ¥΄λ‹¤λ” κ²ƒμ΄λ‹¤.`204`μ κ²½μ°Β HTTP Response bodyκ°€ μ•„μ μ΅΄μ¬ν•μ§€ μ•λ” κ²½μ°λ‹¤.

μ‚¬μ‹¤Β `204`λ¥Ό μ‘λ‹µν•λ” APIλ” ν”ν•μ§€ μ•λ‹¤.

`**204`λ΅ μ‘λ‹µν•λ” μμ‹λ‹¤. μ λ€μ μ΄μ§„ μ•λ‹¤.**

**PUT**

- μμ› μμ • μ”μ²­μ κ²°κ³Όκ°€ κΈ°μ΅΄μ μμ› λ‚΄μ©κ³Ό λ™μΌν•μ—¬ λ³€κ²½λ λ‚΄μ©μ΄ μ—†μ„ λ•Β `204`λ΅ μ‘λ‹µν•  μ μλ‹¤.
- λ§μ•½ μμ • μ”μ²­μΌλ΅ μμ›μ λ‚΄μ©μ΄ λ³€κ²½λλ‹¤λ©΄Β `201`λ΅ μ‘λ‹µν•  κ²ƒμ΄λ‹¤.

**DELETE**

- μ‚­μ  μ”μ²­μΌλ΅ μμ›μ„ μ‚­μ ν•μ—¬ λ” μ΄μƒ μ΅΄μ¬ν•μ§€ μ•κ³  κ·Έ μμ›μ„ μ°Έμ΅°ν•λ” λ¨λ“  μμ›λ„ μ‚­μ λμ–΄ λ” μ΄μƒ HTTP bodyλ¥Ό μ‘λ‹µν•λ” κ²ƒμ΄ λ¬΄μλ―Έν•΄μ΅μ„ λ• μ‚¬μ©ν•λ‹¤.

## β 4**XXΒ Client errors** β

`4XX`μ μƒνƒ μ½”λ“λ“¤μ€ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ μ ν¨ν•μ§€ μ•μ•„ μ„λ²„κ°€ ν•΄λ‹Ή μ”μ²­μ„ μν–‰ν•μ§€ μ•μ•λ‹¤λ” μλ―Έλ‹¤.

### 400 Bad Request : ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ μ ν¨ν•μ§€ μ•μ•„ λ” μ΄μƒ μ‘μ—…μ„ μ§„ν–‰ν•μ§€ μ•λ” κ²½μ°

API μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ΄ λ“¤μ–΄μ¤λ©΄ λ°”λ΅ μ‘μ—…μ„ μ§„ν–‰ν•μ§€ μ•κ³  μ”μ²­μ΄ μ„λ²„κ°€ μ •μν• μ ν¨μ„±μ— λ§λ”μ§€ ν™•μΈ ν›„ μ§„ν–‰ν•λ‹¤. λ‹¤μκ³Ό κ°™μ€ μ‚¬μ „ μ ν¨μ„± κ²€μ¦ μ‘μ—…μ„ μ§„ν–‰ν•  μ μλ‹¤.

- ν•„μ μ—¬λ¶€
- μ ν¨ μ—¬λ¶€

    β†’ λ²”μ„

    β†’ ν¨ν„΄

- λ¬Έλ²• μ¤λ¥
- μλ»λ ν•μ‹μ μ”μ²­
- μ „λ‹¬ μΈμκ°€ μλ»λμ–΄ κµ¬λ¬Έμ„ μΈμ‹ν•μ§€ λ»ν•λ” κ²½μ°
- μ„μ—μ„ μ§€μ •ν• κµ¬λ¬Έμ„ μ¶©μ΅±μ‹ν‚¤μ§€ μ•μ€ κ²½μ°

λ€λ¶€λ¶„μ APIλ” μ‚¬μ „μ— μ ν¨μ„± κ²€μ¦μ„ ν†µν•΄Β `400`Β μƒνƒ μ½”λ“λ΅ ν΄λΌμ΄μ–ΈνΈμ—κ² μ ν¨ν•μ§€ μ•μ€ μ”μ²­μ„μ„ μ‘λ‹µν•λ‹¤. (μ ν¨μ„± κ²€μ¦ μ—†μ΄ μ§„ν–‰ν•λ©΄Β `5xx`Β μ„λ²„ μ¤λ¥κ°€ λ°μƒν•  μ μκΈ° λ•λ¬Έμ— λ€λ¶€λ¶„ μ‚¬μ „μ— λ§‰λ” λ΅μ§μ„ μ¶”κ°€ν•λ‹¤.)

κ·Έλ¬λ‚,Β `400`Β μƒνƒ μ½”λ“λ΅ μ‘λ‹µν•λ” κ²ƒλ§μΌλ΅λ” λ¶€μ΅±ν•λ‹¤. μ¤λ¥ λ°μƒ μ‹Β **νλΌλ―Έν„°μ μ„μΉ(`path`,Β `query`,Β `body`), μ‚¬μ©μ μ…λ ¥ κ°’, μ—λ¬ μ΄μ λ¥Ό κΌ­ λ…μ‹ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.**

**Bad**

```json
HTTP/1.1 400 Bad Request
```

**Good case 1**

```json
HTTP/1.1 400 Bad Request
{
    "message" : "'name'(body) must be String, input 'name': 123"
}
```

**Good case 2**

```json
HTTP/1.1 400 Bad Request
{
    "errors": [
        {
        "location": "body",
        "param": "name",
        "value": 123,
        "error": "TypeError",
        "msg": "must be String"
        }
    ]
}
```

**Good case 3**

```json
HTTP/1.1 400 Bad Request
{
    "errors": {
        "message": "'name'(body) must be String, input 'name': 123",
        "detail": [
            {
            "location": "body",
            "param": "name",
            "value": 123,
            "error": "TypeError",
            "msg": "must be String"
            }
        ]
    }
}
```

μ λ§λ“¤μ–΄μ§„ APIλ” λ€λ¶€λ¶„ λ¬Έμ„ μ •λ¦¬λ„ μλμ—κΈ° λ•λ¬Έμ— λ¬Έμ„λ§μΌλ΅ νλΌλ―Έν„°μ μ–΄λ–¤ κ°’λ“¤μ΄ μ ν¨ν•κ³  μ ν¨ν•μ§€ μ•μ€μ§€ μ‰½κ² μ• μ μλ‹¤. κ·Έλ¬λ‚, λ€λ¶€λ¶„ APIλ” κΈ°λ¥ μ„μ£Όλ΅ λ§λ“¤μ–΄μ§€κΈ° λ•λ¬Έμ— λ¬Έμ„μ— λ§μ€ μ‹κ°„μ„ μ“Έ μ μ—†λ‹¤. μ΄λ¬ν• APIλ¥Ό μ‚¬μ©ν•λ©΄μ„Β `4XX`Β μ¤λ¥λ¥Ό λ§λ‚λ©΄ κ½¤ κ³¨μΉ μ•„ν”„λ‹¤. λ¶„λ… ν΄λΌμ΄μ–ΈνΈ(μ”μ²­μ)μ μλ»μΈλ° μ–΄λ–¤ λ¶€λ¶„μ΄ μλ»λ μ§€ μ•λ ¤μ£Όμ§€ μ•μΌλ‹ μ ν¨ν• μ”μ²­μ„ ν•λ‚μ”© μ°Ύμ•„μ•Ό ν•λ‹¤. `400`Β μƒνƒ μ½”λ“λ” μ„λ²„μ—μ„ μλ»λλ‹¤κ³  νλ‹¨ν•λ” μ‘λ‹µμ΄κΈ° λ•λ¬Έμ— μ„λ²„λ” κ·Έ μ”μ²­μ΄ μ™ μλ»λ μ§€λ„ μ• μ μλ‹¤. μ„λ²„μ—μ„  μ‰½κ² μ• μ μμ§€λ§ ν΄λΌμ΄μ–ΈνΈλ” μ•λ ¤μ£Όμ§€ μ•μΌλ©΄ μ•κΈ° μ–΄λ ¤μ΄ λ‚΄μ©μΈ κ²ƒμ΄λ‹¤.

μ»¤ν”Όμμ„ μμ‹λ΅ λ“¤λ©΄, **κ³ κ°**(`ν΄λΌμ΄μ–ΈνΈ`)μ΄Β **λ°”λ‹λΌλΌλ–Ό λ”λΈ”μƒ·**(`νλΌλ―Έν„°`)μ„Β **μ£Όλ¬Έ**(`μ”μ²­`) ν•λ‹¤. κ·Όλ° μ΄ μ»¤ν”Όμμ— λ°”λ‹λΌλΌλ–Όλ” λ©”λ‰΄μ— μμ§€λ§, μƒ· μ¶”κ°€λ” λ¶κ°€ν•λ‹¤.Β **λ©”λ‰΄ν**(`API λ¬Έμ„`)μ—” μ΄ λ‚΄μ©μ΄ μ—†λ‹¤. μ΄λ•,Β **μΉ΄μ΄ν„°**(`API`)μΒ **μ§μ›**(`URI`)μ΄ κ³ κ°μ—κ²Β `ν•΄λ‹Ή μ£Όλ¬Έμ€ λ¶κ°€ν•©λ‹λ‹¤`λΌκ³ λ§ ν•λ©΄ κ³ κ°μ€ μ–΄λ–¤ λ°μ‘μΌκΉ? λ°”λ‹λΌλΌλ–Όκ°€ λ©”λ‰΄κ°€ μ—†λ‚(`404 μƒνƒ μ½”λ“`)? μ•„λ‹λ©΄ λ°”λ‹λΌλΌλ–Όλ” μ£Όλ¬Έμ΄ λ§μ΄ λ°€λ ¤μ„ λ¶κ°€ν•κ°€(`429 μƒνƒ μ½”λ“`)? λ“±μ μƒκ°μ„ ν•  κ²ƒμ΄λ‹¤.**μΉ΄μ΄ν„°**(`API`)μΒ **μ§μ›**(`URI`)μ€ κ³ κ°μ—κ²Β `λ°”λ‹λΌλΌλ–Όμ— μƒ· μ¶”κ°€λ” λ¶κ°€ν•©λ‹λ‹¤`λΌκ³  λ€λ‹µν•΄μ•Ό ν•λ‹¤.

### 401 Unauthorized : ν΄λΌμ΄μ–ΈνΈκ°€ μΈμ¦μ΄ λμ§€ μ•μ•„ μ‘μ—…μ„ μ§„ν–‰ν•  μ μ—†λ” κ²½μ°

**β†’ λ€ν‘μ μΈ μ : λ΅κ·ΈμΈμ΅°μ°¨ ν•μ§€ μ•μ•„μ„ μ ‘κ·Όν•  μ μ—†λ” μƒνƒ, μ•„μ΄λ””λ‚ λΉ„λ°€λ²νΈκ°€ ν‹€λ ¤μ„ λ΅κ·ΈμΈ μ‹¤ν¨ μ‹**

μƒνƒ μ½”λ“ μ΄λ¦„λ§ λ³΄λ©΄Β **κ¶ν•**(`authorized`)μ— λ€ν• λ‚΄μ©μ²λΌ λ³΄μ΄μ§€λ§, μ‚¬μ‹¤Β **μΈμ¦**(`authenticated`)μ— λ€ν• μ΄μ•ΌκΈ°λ‹¤. `401`μ€Β **λΉ„μΈμ¦(μΈμ¦μ΄ μ• λ μƒνƒ)**μ΄λ‹¤. κ²°λ΅ μ μΌλ΅ 401μ€ μΈμ¦μ΄ μ• λΌ μμ›μ„ μ΄μ©ν•  μ μ—†λ” μƒνƒκ³ , μλ―Έμƒ `unauthorized`λ³΄λ‹¤  `unauthenticated`κ°€ λ” μ •ν™•ν•λ‹¤.

- **μΈμ¦(authenticated)κ³Ό μΉμΈ(authorized)μ μ°¨μ΄λ¥Ό μ„¤λ…ν•λ” μμ‹ 1**

### 403 Forbidden : ν΄λΌμ΄μ–ΈνΈκ°€ μΈμ¦μ€ λμΌλ‚ κ¶ν•μ΄ μ—†κΈ° λ•λ¬Έμ— μ‘μ—…μ„ μ§„ν–‰ν•  μ μ—†λ” κ²½μ°

**β†’ λ€ν‘μ μΈ μ : λ΅κ·ΈμΈμ„ ν•΄μ„ μΈμ¦μ€ λμ§€λ§(Userμ— λ€ν• μ •λ³΄λ” ν™•μ‹¤ν•κ² μ•κ³  μμ§€λ§), κ΄€λ¦¬μμ κ¶ν•μ΄ μ—†μ–΄μ„ μ ‘κ·Όν•  μ μ—†λ” μƒνƒ**

`403`μ€ κ¶ν•(`authorized`)μ— λ€ν• λ‚΄μ©μ΄λ‹¤. `401`μ μƒνƒ μ½”λ“λ…μ΄ `Unauthrozied`λΌ νΌλ™μ μ—¬μ§€κ°€ μμΌλ‚, κ¶ν•μ— λ€ν• λ‚΄μ©μ΄λ‹¤. μΈμ¦λ ν΄λΌμ΄μ–ΈνΈκ°€ κ¶ν•μ΄ μ—†λ” μμ›μ— μ ‘κ·Όν•  λ• μ‘λ‹µν•λ” μƒνƒ μ½”λ“μ΄λ‹¤. 

- **μΈμ¦(authenticated)κ³Ό μΉμΈ(authorized)μ μ°¨μ΄λ¥Ό μ„¤λ…ν•λ” μμ‹ 2**

### 404 Not Found : ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• μμ›μ΄ μ΅΄μ¬ν•μ§€ μ•λ‹¤.

IT λ¶„μ•Όμ—μ„ μΌν•μ§€ μ•λ” μ‚¬λμ΄λΌλ„ μΈν„°λ„·μ„ ν•λ‹¤ λ³΄λ©΄ `404` μ¤λ¥λ” ν• λ²μ―¤ λ§λ‚λ΄¤μ„ κ²ƒμ΄λ‹¤. μ§€κΈ λ‹Ήμ¥ [https://www.google.com/hakhak2](https://www.google.com/hakhak2) μ΄λ ‡κ² μ΅΄μ¬ν•μ§€ μ•λ” νμ΄μ§€λ¥Ό λ°©λ¬Έν•λ©΄ `404` μ¤λ¥κ°€ λ°μƒν•λ‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/eb633043-4ba9-423d-bb7b-2dae02c0f8f8/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/eb633043-4ba9-423d-bb7b-2dae02c0f8f8/Untitled.png)

λΈλΌμ°μ €(ν΄λΌμ΄μ–ΈνΈ) μ…μ¥μ—μ„  μμ›μ΄ μ›Ή νμ΄μ§€ κ²½λ΅κ³  μ΅΄μ¬ν•μ§€ μ•λ” κ²½λ΅(μμ›)λ¥Ό μ”μ²­ν–κΈ° λ•λ¬Έμ— `404` μƒνƒ μ½”λ“λ¥Ό μ‘λ‹µν–λ‹¤. REST APIμ—μ„  ν¬κ² 2κ°€μ§€ κ²½μ°μ—μ„ `404` μƒνƒ μ½”λ“λ¥Ό μ‘λ‹µν•λ‹¤.

1. **κ²½λ΅**κ°€ μ΅΄μ¬ν•μ§€ μ•μ
2. **μμ›**μ΄ μ΅΄μ¬ν•μ§€ μ•μ
- **'κ²½λ΅'μ™€ 'μμ›'μ μ°¨μ΄**

μ‚¬μ‹¤ μ„μ—μ„ μ„¤λ…ν•Β **κ²½λ΅, μμ›**μ΄ μ •ν™•ν• μ©μ–΄μ™€ μλ―Έλ” μ•„λ‹λ‹¤. RESTμ—μ„  URIκ°€ μμ›μ΄κΈ° λ•λ¬Έμ— κ²½λ΅κ°€ κ³§ μμ›μ΄λ‹¤. `404`Β μ¤λ¥μ κ²½μ° λ‘ κ°€μ§€ λ¨λ‘ ν™•μΈμ„ ν•΄μ•Ό ν•λ‹¤λ” μ„¤λ…μ„ μ„ν• ν‘ν„μ΄λ‹¤.

### 405 Method Not Allowed : ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ ν—μ©λμ§€ μ•λ” λ©”μ†λ“μΈ κ²½μ°

λ©”μ†λ“λ€ `POST`, `GET`, `PUT`, `DELETE` λ“± HTTP Methodλ¥Ό λ§ν•λ‹¤. μ¦‰, μμ›(URI)μ€ μ΅΄μ¬ν•μ§€λ§ ν•΄λ‹Ή μμ›μ΄ μ§€μ›ν•μ§€ μ•λ” λ©”μ†λ“μΌ λ• μ‘λ‹µν•λ” μƒνƒ μ½”λ“μ΄λ‹¤. 

**405 μƒνƒ μ½”λ“λ” OPTIONS λ©”μ†λ“μ™€ HTTP headerμ Allowμ™€ μ—°κ΄€λμ–΄ μλ‹¤.** 

`OPTIONS`λ” APIκ°€ ν—μ©ν•λ” λ©”μ„λ“κ°€ μ–΄λ–¤ κ²ƒλ“¤μ΄ μλ” μ§€ ν™•μΈν•λ” λ©”μ„λ“μ΄λ‹¤. `405` μ¤λ¥λ¥Ό μ‚¬μ „μ— λ°©μ§€ν•κΈ° μ„ν• μ©λ„μ— μ£Όλ΅ μ“°μΈλ‹¤. μ΄ λ•, μ‘λ‹µ HTTP headerμ `Allow`μ— μ§€μ›ν•λ” λ©”μ„λ“λ¥Ό λ‚μ—΄ν•μ—¬ μ‘λ‹µν•λ‹¤. 

[RESTful API μ„¤κ³„ κ°€μ΄λ“](https://sanghaklee.tistory.com/57)μ—μ„λ„ λ§ν• λ‚΄μ©μ΄μ§€λ§ μ™„μ„±λ„ λ†’μ€ APIλ¥Ό μ„ν•΄ μ κ³µν•κΈΈ μ¶”μ²ν•λ‹¤.(μµκ·Ό λ‡λ‡ API ν”„λ μ„μ›ν¬μ—μ„  μλ™μΌλ΅ ν—μ©λμ§€ μ•λ” λ©”μ†λ“μ— λ€ν•΄ `405` μƒνƒ μ½”λ“μ™€ `Allow` ν—¤λ”λ¥Ό μ‘λ‹µν•κΈ°λ„ ν•λ‹¤.

```json
OPTIONS /users/1 HTTP/1.1
```

```json
HTTP/1.1 200 OK
Allow: GET,PUT,DELETE,OPTIONS,HEAD
```

`/users/1` μμ›μ€ `POST` λ©”μ„λ“λ¥Ό μ κ³µν•μ§€ μ•λ”λ‹¤λ” μ •λ³΄λ¥Ό ν™•μΈν•  μ μλ‹¤. 

- **405 μƒνƒ μ½”λ“λ” 404 μƒνƒ μ½”λ“μ™€ νΌλ™λ  μ μκΈ° λ•λ¬Έμ— κ·μΉ™μ„ μ μ •ν•΄μ•Ό ν•λ‹¤.**

### 409 Conflict : ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ μ„λ²„μ μƒνƒμ™€ μ¶©λμ΄ λ°μƒν• κ²½μ°

**β†’ μ£Όλ΅ POST μ”μ²­ μ‹ μ΄λ―Έ μ΅΄μ¬ν•λ” μμ›μ΄ μλ” κ²½μ°μ— λ€ν• μ‘λ‹µμΌλ΅ μ‚¬μ©. 
ex) μ΄λ―Έ νμ›κ°€μ…μ΄ λμ–΄μλ”λ°, λ νμ›κ°€μ…μ„ μ‹λ„ν•λ” κ²½μ° (= μ¤‘λ³µλ μ•„μ΄λ”” λλ” μ΄λ©”μΌμΈ κ²½μ°)**

**μ¶©λ**μ΄λΌλ” κ²ƒμ€ λ§¤μ° μ¶”μƒμ μ΄λ‹¤. μ•μ—μ„ μ•μ•„λ³ΈΒ `400, 401, 403, 404, 405`Β μƒνƒ μ½”λ“λ“¤μ€ μ‚¬μ©μ΄ κ½¤ λ…ν™•ν•λ‹¤. ν•μ§€λ§, μ¶©λμ΄λΌλ” κ²ƒμ€ μ •μν•κΈ° λ‚λ¦„μ΄λ‹¤.κ·Έλ ‡κΈ° λ•λ¬Έμ— ν•„μλ”Β `400, 401, 403, 404, 405`Β μƒνƒ μ½”λ“μ— μ†ν•κΈ° μ• λ§¤ν• μ¤λ¥μ μƒν™©λ“¤μ„Β `409`λ΅ μ‘λ‹µν•λ‹¤.

λ¬Όλ΅ , λ‚λ¦„μ κ·μΉ™μ„ κ°–κ³ Β `409`λ΅ μ‘λ‹µν•λ‹¤. 

- **ν•΄λ‹Ή μ”μ²­μ μ²λ¦¬ μ¤‘Β λΉ„μ§€λ‹μ¤ λ΅μ§μƒ λ¶κ°€λ¥ν•κ±°λ‚ λ¨μμ΄ μƒκΈ΄ κ²½μ°**

    μλ¥Ό λ“¤μ–΄, λ‹¤μμ κ²½μ°

    ```json
    DELETE /users/1 HTTP/1.1
    X-TOKEN: password
    ```

    - **μμ›**(URI)Β `/users/1`μ— μ΅΄μ¬ν•λ” λ©”μ†λ“μ΄λ―€λ΅ `405`λ” μ•„λ‹λ‹¤.
    - `/users/:id`μ—μ„Β **:id**κ°€ μ ν¨ν• ν•μ‹μ΄λ―€λ΅Β `400`μ€ μ•„λ‹λ‹¤.
    - **1**Β μ‚¬μ©μλ„ μ΅΄μ¬ν•λ―€λ΅Β `404`μ€ μ•„λ‹λ‹¤.
    - ν—¤λ”μ μΈμ¦(X-TOKEN)λ„ μ •ν™•ν•λ―€λ΅ `401`μ€ μ•„λ‹λ‹¤.
    - μ‚­μ  κ¶ν•λ„ μλ‹¤κ³  κ°€μ •ν–μ„ λ•Β `403`μ€ μ•„λ‹λ‹¤.

    ν΄λΌμ΄μ–ΈνΈμ μ‚­μ  μ”μ²­μ€ λ°›μ•„λ“¤μ—¬μ Έμ„Β `200`Β νΉμ€Β `204`λ΅ μ‘λ‹µν•΄μ•Ό ν•μ§€λ§, **μ‚¬μ©μμ κ²μ‹λ¬Όμ΄ μ΅΄μ¬ν•λ” κ²½μ° μ‚¬μ©μλ¥Ό μ‚­μ ν•  μ μ—†λ‹¤**λ” λΉ„μ§€λ‹μ¤ λ΅μ§μ΄ μμ„ μ μλ‹¤

    μ΄λ ‡κ² API μ‚¬μ©μ— μμ–΄ λΉ„μ§€λ‹μ¤ λ΅μ§μƒ λ¨μμ΄ λ°μƒν•μ—¬ μ²λ¦¬κ°€ λ¶κ°€λ¥ν• κ²½μ° μ‘λ‹µν•λ” μƒνƒ μ½”λ“λ‹¤.

    ```json
    HTTP/1.1 409 Conflict
    ```

`400` μ¤λ¥ μƒν™©κ³Ό λ§μ°¬κ°€μ§€λ΅ μ‘λ‹µ μ‹ μ¤λ¥μ μ›μΈμ„ μ•λ ¤μ•Ό ν•λ‹¤. μ¶”κ°€μ μΌλ΅ HATEOASλ¥Ό μ΄μ©ν•΄ ν΄λΌμ΄μ–ΈνΈκ°€ λ‹¤μ μƒνƒλ΅ μ „μ΄λ  μ μλ” λ§ν¬λ¥Ό ν•¨κ» μ‘λ‹µν•λ©΄ μΆ‹λ‹¤.

```json
HTTP/1.1 409 Conflict
{
		"message" : "First, delete posts"
		"links": [
				{
						"rel": "posts.delete",
						"method": "DELETE",
						"href": "https://api.rest.com/v1/users/1/posts"
				},
		]
}
```

### 429 Too Many Requests : ν΄λΌμ΄μ–ΈνΈκ°€ μΌμ • μ‹κ°„ λ™μ• λ„λ¬΄ λ§μ€ μ”μ²­μ„ λ³΄λ‚Έ κ²½μ°

λΉ„μ •μƒμ μΈ([DoS attack](https://ko.wikipedia.org/wiki/%EC%84%9C%EB%B9%84%EC%8A%A4_%EA%B1%B0%EB%B6%80_%EA%B3%B5%EA%B2%A9),Β [Brute-force attack](https://ko.wikipedia.org/wiki/%EB%AC%B4%EC%B0%A8%EB%B3%84_%EB%8C%80%EC%9E%85_%EA%B3%B5%EA%B2%A9)) λ°©λ²•μΌλ΅ μμ›μ„ μ”μ²­ν•λ” κ²½μ° μ‘λ‹µν•λ‹¤.

DoSλ”Β [κ°€μ©μ„±](http://www.ktword.co.kr/abbr_view.php?m_temp1=1100)μ— λ€ν• κ³µκ²©μ΄κ³  Brute-forceλ”Β [κΈ°λ°€μ„±](http://www.ktword.co.kr/abbr_view.php?m_temp1=2243)μ— λ€ν• κ³µκ²©μ΄λ‹¤. ν•μ§€λ§, μ„λ²„ μ…μ¥μ—μ„ λ‘ κ³µκ²© λ¨λ‘ κ°€μ©μ„±μ— ν”Όν•΄λ¥Ό μ…μ„ μ μλ‹¤. μ„λ²„κ°€ κ°λ‹Ήν•κΈ° νλ“  μ”μ²­μ΄ μ§€μ†μ μΌλ΅ λ“¤μ–΄μ¤λ©΄ μ„λ²„λ” ν•΄λ‹Ή μ”μ²­μ„ μ²λ¦¬ν•κΈ° μ„ν•΄ λ‹¤λ¥Έ μ‘μ—…μ„ μ²λ¦¬ν•μ§€ λ»ν•  μ μλ‹¤.

`429`Β μƒνƒ μ½”λ“λ” μ΄λ¬ν• κ²½μ° μΌμ • μ‹κ°„ λ’¤ μ”μ²­ν•  κ²ƒμ„ λ‚νƒ€λ‚΄λ” κ²ƒμ΄λ‹¤. λ”°λΌμ„ λ‹¤μκ³Ό κ°™μ΄ HTTP headerΒ [Retry-After](https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Retry-After)μ„ μ΄μ©ν•λ‹¤.

```json
HTTP/1.1 429 Too Many Requests
Retry-After: 3600
```

- ν΄λΌμ΄μ–ΈνΈλ” 3600μ΄ ν›„μ— λ‹¤μ‹ ν•΄λ‹Ή μμ›μ— λ€ν• μ‘μ—…μ„ μ”μ²­ν•  μ μλ‹¤.

λ‘ κ°€μ§€ μƒν™©μ„ μλ΅ μ„¤λ…ν•λ‹¤.

- **Case 1 : κΈ°λ°€μ„±μ— λ€ν• κ³µκ²©**
- **Case 2 : κ°€μ©μ„±μ— λ€ν• κ³µκ²©**

## π’» 5XX Server errors π’»

`5XX` μƒνƒ μ½”λ“λ“¤μ€ μ„λ²„ μ¤λ¥λ΅ μΈν•΄ μ”μ²­μ„ μν–‰ν•  μ μ—†λ‹¤λ” μλ―Έλ‹¤. ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ€ μ ν¨ν•μ—¬ μ‘μ—…μ„ μ§„ν–‰ν–λ”λ° λ„μ¤‘μ— μ¤λ¥κ°€ λ°μƒν• κ²½μ°λ‹¤. `404`Β μ¤λ¥μ™€ λ§μ°¬κ°€μ§€λ΅ μΈν„°λ„·μ„ ν•λ‹¤ λ³΄λ©΄Β `500, 502, 503`Β λ“±μ μ¤λ¥λ¥Ό λ§λ‚λ΄¤μ„ κ±°λ‹¤. API μ„λ²„μ μ‘λ‹µμ—μ„Β `5XX`μ¤λ¥κ°€ λ°μƒν•΄μ„λ” μ•λλ‹¤. λ³΄ν†µ κ°λ° κ³Όμ •μ—μ„ μ ν¨ν•μ§€ μ•μ€ μ”μ²­μ„ μ‚¬μ „μ— μ²λ¦¬ν•μ§€ μ•μ€ κ²½μ°(`400`)μ— λ§μ΄ λ°μƒν•λ‹¤.

νΉνΒ `500`Β μ¤λ¥λ” κ°λ°μμ μ‹¤μλ΅ λ°μƒν•  μ—¬μ§€κ°€ ν¬λ‹¤.

```json
POST /users HTTP/1.1
{
    "name": 123
}
```

μ”μ²­μ— λ€ν•΄Β 4XXΒ μ¤λ¥λ¥Ό λ°μƒμ‹ν‚¬ κ°€λ¥μ„±μ΄ μλ”λ° μ‚¬μ „μ— ν™•μΈ μ‘μ—…μ„ ν•μ§€ μ•μ€ κ²½μ°

- νλΌλ―Έν„° ν•„μ κ°’, μ ν¨μ„± ν™•μΈ μ—†μ΄ λΉ„μ§€λ‹μ¤ λ΅μ§ μ§„ν–‰ν•λ” κ²½μ°
- μ™Έλ¶€ APIμ—μ„ λ°›μ€ κ°μ²΄λ¥Ό ν™•μΈν•μ§€ μ•κ³  λΉ„μ§€λ‹μ¤ λ΅μ§ μ§„ν–‰ν•λ” κ²½μ°
    - **μμ‹**

**APIλ¥Ό μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈμ—κ²Β `5XX`Β μƒνƒ μ½”λ“λ” λ‚νƒ€λ‚΄μ§€ λ§μ•„μ•Ό ν•λ‹¤!** μµμ‹ μ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… ν”„λ μ„μ›ν¬λ” μμ²΄ μ›Ήμ„λ²„λ¥Ό λ‚΄μ¥ν•κ³  μμ–΄μ„ μ›Ήμ„λ²„(Apache, Nginx) μ—†μ΄ μ΄μν•  μ μλ‹¤. κ·Έλ¬λ‚, λ³΄ν†µ μ΄μ λ λ²¨μ—μ„ μ΄λ ‡κ² ν•λ” κ²½μ°λ” λ“λ¬Όκ³  μ•μ— μ›Ήμ„λ²„λ¥Ό λ‘κ³  μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ—°κ²°ν•΄μ„ μ΄μν•λ‹¤.

λ”°λΌμ„, μƒλ‹¨μ μ›Ήμ„λ²„(Apache, Nginx)μ—μ„ λ°μƒν•λ” μ–΄μ©” μ μ—†λ” μ¤λ¥λ¥Ό μ μ™Έν•κ³  APIμ—μ„ Β `5XX`Β μƒνƒ μ½”λ“κ°€ μ‘λ‹µλμ„  μ•λλ‹¤. **API λ λ²¨μ—μ„  μ™„λ²½ν• μμ™Έμ²λ¦¬λ¥Ό ν†µν•΄ 5XX μ„λ²„ μ¤λ¥ μƒνƒ μ½”λ“λ¥Ό λ°©μ§€ν•΄μ•Ό ν•λ‹¤.**

κ·Έλ¦¬κ³  μ„λ²„μ— λ€ν• μ—λ¬λ¥Ό ν΄λΌμ΄μ–ΈνΈμ™€ μ†ν†µμ„ ν•μ§€ μ•λ” κ²ƒμ΄ λ³΄μ•μ μΈ μΈ΅λ©΄μ—μ„ λ” μΆ‹κΈ° λ•λ¬Έμ— μ„λ²„ μ—λ¬λ¥Ό λ€λ¶€λ¶„ `500`μΌλ΅ ν†µμΌν•΄μ„ μ‘λ‹µν•λ‹¤.